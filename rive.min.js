/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@rive-app/webgl@1.0.88/rive.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rive=t():e.rive=t()}(this,(function(){return(()=>{"use strict";var e=[,(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r,i=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,n,i;function a(){function e(e){const a=r;n=t=0,r=new Map,a.forEach((t=>{try{t(e)}catch(e){console.error(e)}})),this.ae(),i&&i.re()}let t=0,n=0,r=new Map,i=null,a=null;this.requestAnimationFrame=function(i){t||(t=requestAnimationFrame(e.bind(this)));const a=++n;return r.set(a,i),a},this.cancelAnimationFrame=function(e){r.delete(e),t&&0==r.size&&(cancelAnimationFrame(t),t=0)},this.pe=function(e){a&&(document.body.remove(a),a=null),e||(a=document.createElement("div"),a.style.backgroundColor="black",a.style.position="fixed",a.style.right=0,a.style.top=0,a.style.color="white",a.style.padding="4px",a.innerHTML="RIVE FPS",e=function(e){a.innerHTML="RIVE FPS "+e.toFixed(1)},document.body.appendChild(a)),i=new function(){let t=0,n=0;this.re=function(){var r=performance.now();n?(++t,1e3<(r-=n)&&(e(1e3*t/r),t=n=0)):(n=r,t=0)}}},this.ae=function(){}}function o(){const e=new Map;let t=-1/0;this.push=function(n){return n=n+255>>8,e.has(n)&&clearTimeout(e.get(n)),e.set(n,setTimeout((function(){e.delete(n),0==e.length?t=-1/0:n==t&&(t=Math.max(...e.keys()),console.assert(t<n))}),1e3)),t=Math.max(n,t),t<<8}}e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){n=e,i=t})),t.onRuntimeInitialized=function(){function n(e){this.hd=e,this.ee=e.getContext("2d"),this.ie=s,this.od=[],this.yd=0,this.clear=function(){console.assert(0==this.yd),this.od=[],c.delete(this)},this.save=function(){++this.yd,this.od.push(s.save.bind(s))},this.restore=function(){0<this.yd&&(this.od.push(s.restore.bind(s)),--this.yd)},this.transform=function(e){this.od.push(s.transform.bind(s,e))},this.align=function(e,t,n,r){this.od.push(s.align.bind(s,e,t,n,r))},this.flush=function(){console.assert(0==this.yd),c.add(this),u&&i()}}function r(e){var n={alpha:1,depth:0,stencil:8,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,renderViaOffscreenBackBuffer:0},r=e.getContext("webgl2",n);r||(r=e.getContext("webgl",n));var i=r,a=Ct(yt),o={Me:a,attributes:n,version:n.Ne,Md:i};return i.canvas&&(i.canvas.Le=o),yt[a]=o,(void 0===n.oe||n.oe)&&function(e){if(e||(e=Et),!e.ye){e.ye=!0;var t=e.Md;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,i){t.drawArraysInstancedANGLE(e,n,r,i)},e.drawElementsInstanced=function(e,n,r,i,a){t.drawElementsInstancedANGLE(e,n,r,i,a)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(t),t.Xd=t.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),t.$d=t.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=e.version&&(t.Yd=t.getExtension("EXT_disjoint_timer_query_webgl2")),(2>e.version||!t.Yd)&&(t.Yd=t.getExtension("EXT_disjoint_timer_query")),t.Oe=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}(o),Et=yt[a],t.ke=Xt=Et&&Et.Md,(n=f(e.width,e.height)).ge=a,n.hd=e,n.Vd=e.width,n.Ud=e.height,n.fe=r,n}function i(){if(s){var e=s.he,n=0,r=0,i=0,a=Array(c.size),o=0;for(var u of c)u.vd=Math.min(u.hd.width,e),u.ud=Math.min(u.hd.height,e),u.Nd=u.ud*u.vd,n=Math.max(n,u.vd),r=Math.max(r,u.ud),i+=u.Nd,a[o++]=u;if(c.clear(),!(0>=i)){for(n=1<<(0>=n?0:32-Math.clz32(n-1)),r=1<<(0>=r?0:32-Math.clz32(r-1));r*n<i;)n<=r?n*=2:r*=2;for(n=Math.min(n,e),n=Math.min(r,e),a.sort(((e,t)=>t.Nd-e.Nd)),i=new t.DynamicRectanizer(e),u=0;u<a.length;){for(i.reset(n,r),o=u;o<a.length;++o){var f=a[o],l=i.addRect(f.vd,f.ud);if(0>l){console.assert(o>u);break}f.Cd=65535&l,f.Dd=l>>16}for(f=d.push(i.drawWidth()),l=h.push(i.drawHeight()),console.assert(f>=i.drawWidth()),console.assert(l>=i.drawHeight()),console.assert(f<=e),console.assert(l<=e),s.hd.width!=f&&(s.hd.width=f),s.hd.height!=l&&(s.hd.height=l),s.clear(),f=u;f<o;++f){l=a[f],s.saveClipRect(l.Cd,l.Dd,l.Cd+l.vd,l.Dd+l.ud);let e=new t.Mat2D;e.xx=l.vd/l.hd.width,e.yy=l.ud/l.hd.height,e.xy=e.yx=0,e.tx=l.Cd,e.ty=l.Dd,s.transform(e);for(const e of l.od)e();s.restoreClipRect(),l.od=[]}for(s.flush();u<o;++u)(l=(f=a[u]).ee).globalCompositeOperation="copy",l.drawImage(s.hd,f.Cd,f.Dd,f.vd,f.ud,0,0,f.hd.width,f.hd.height);u=o}}}}const u=navigator.userAgent.match(/firefox|fxios/i);let s=null;const c=new Set,f=t.makeRenderer;t.makeRenderer=function(e,t){return t?(s||(s=r(document.createElement("canvas")),t=s.fe,s.he=Math.min(t.getParameter(t.MAX_RENDERBUFFER_SIZE),t.getParameter(t.MAX_TEXTURE_SIZE))),new n(e)):r(e)};const l=t.Artboard.prototype.draw;t.Artboard.prototype.draw=function(e){e.od?e.od.push(l.bind(this,e.ie)):l.call(this,e)};const d=new o,h=new o,p=new a;e.requestAnimationFrame=p.requestAnimationFrame.bind(p),e.cancelAnimationFrame=p.cancelAnimationFrame.bind(p),e.enableFPSCounter=p.pe.bind(p),p.ae=i;let m=e.load;e.load=function(e){return Promise.resolve(m(e))};const v=t.WebGLRenderer.prototype.clear;t.WebGLRenderer.prototype.clear=function(){Et=yt[this.ge],t.ke=Xt=Et&&Et.Md;const e=this.hd;this.Vd==e.width&&this.Ud==e.height||(this.resize(e.width,e.height),this.Vd=e.width,this.Ud=e.height),v.call(this)}};var u,s,c=Object.assign({},t),f="./this.program",l="object"==typeof window,d="function"==typeof importScripts,h="";(l||d)&&(d?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),r&&(h=r),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var p,m=t.print||console.log.bind(console),v=t.printErr||console.warn.bind(console);Object.assign(t,c),c=null,t.thisProgram&&(f=t.thisProgram),t.wasmBinary&&(p=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&G("no native wasm support detected");var y,g,b,w,P,A,x,C,S,E,M=!1,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function _(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&T)return T.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function j(e,t){return e?_(w,e,t):""}function I(e,t,n,r){if(!(0<r))return 0;var i=n;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(n+3>=r)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-i}function F(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function R(){var e=y.buffer;g=e,t.HEAP8=b=new Int8Array(e),t.HEAP16=P=new Int16Array(e),t.HEAP32=x=new Int32Array(e),t.HEAPU8=w=new Uint8Array(e),t.HEAPU16=A=new Uint16Array(e),t.HEAPU32=C=new Uint32Array(e),t.HEAPF32=S=new Float32Array(e),t.HEAPF64=E=new Float64Array(e)}var L,k=[],O=[],W=[];function D(){var e=t.preRun.shift();k.unshift(e)}var B,Y=0,U=null,V=null;function G(e){throw t.onAbort&&t.onAbort(e),v(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),i(e),e}function N(){return B.startsWith("data:application/octet-stream;base64,")}if(B="webgl_advanced.wasm",!N()){var q=B;B=t.locateFile?t.locateFile(q,h):h+q}function H(){var e=B;try{if(e==B&&p)return new Uint8Array(p);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){G(e)}}function X(e){for(;0<e.length;)e.shift()(t)}var z={};function Q(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function J(e){return this.fromWireType(x[e>>2])}var K={},Z={},$={};function ee(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function te(e,t){return e=ee(e),function(){return t.apply(this,arguments)}}function ne(e){var t=Error,n=te(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var re=void 0;function ie(e){throw new re(e)}function ae(e,t,n){function r(t){(t=n(t)).length!==e.length&&ie("Mismatched type converter count");for(var r=0;r<e.length;++r)le(e[r],t[r])}e.forEach((function(e){$[e]=t}));var i=Array(t.length),a=[],o=0;t.forEach(((e,t)=>{Z.hasOwnProperty(e)?i[t]=Z[e]:(a.push(e),K.hasOwnProperty(e)||(K[e]=[]),K[e].push((()=>{i[t]=Z[e],++o===a.length&&r(i)})))})),0===a.length&&r(i)}function oe(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var ue=void 0;function se(e){for(var t="";w[e];)t+=ue[w[e++]];return t}var ce=void 0;function fe(e){throw new ce(e)}function le(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||fe('type "'+r+'" must have a positive integer typeid pointer'),Z.hasOwnProperty(e)){if(n.xe)return;fe("Cannot register type '"+r+"' twice")}Z[e]=t,delete $[e],K.hasOwnProperty(e)&&(t=K[e],delete K[e],t.forEach((e=>e())))}function de(e){fe(e.cd.fd.dd.name+" instance already deleted")}var he=!1;function pe(){}function me(e){--e.count.value,0===e.count.value&&(e.jd?e.ld.pd(e.jd):e.fd.dd.pd(e.ed))}function ve(e,t,n){return t===n?e:void 0===n.md||null===(e=ve(e,t,n.md))?null:n.ne(e)}var ye={},ge=[];function be(){for(;ge.length;){var e=ge.pop();e.cd.xd=!1,e.delete()}}var we=void 0,Pe={};function Ae(e,t){return t.fd&&t.ed||ie("makeClassHandle requires ptr and ptrType"),!!t.ld!=!!t.jd&&ie("Both smartPtrType and smartPtr must be specified"),t.count={value:1},xe(Object.create(e,{cd:{value:t}}))}function xe(e){return"undefined"==typeof FinalizationRegistry?(xe=e=>e,e):(he=new FinalizationRegistry((e=>{me(e.cd)})),pe=e=>{he.unregister(e)},(xe=e=>{var t=e.cd;return t.jd&&he.register(e,{cd:t},e),e})(e))}function Ce(){}function Se(e,t,n){if(void 0===e[t].gd){var r=e[t];e[t]=function(){return e[t].gd.hasOwnProperty(arguments.length)||fe("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].gd+")!"),e[t].gd[arguments.length].apply(this,arguments)},e[t].gd=[],e[t].gd[r.Ed]=r}}function Ee(e,n,r){t.hasOwnProperty(e)?((void 0===r||void 0!==t[e].gd&&void 0!==t[e].gd[r])&&fe("Cannot register public name '"+e+"' twice"),Se(t,e,e),t.hasOwnProperty(r)&&fe("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),t[e].gd[r]=n):(t[e]=n,void 0!==r&&(t[e].Pe=r))}function Me(e,t,n,r,i,a,o,u){this.name=e,this.constructor=t,this.qd=n,this.pd=r,this.md=i,this.se=a,this.Bd=o,this.ne=u,this.Be=[]}function Te(e,t,n){for(;t!==n;)t.Bd||fe("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.Bd(e),t=t.md;return e}function _e(e,t){return null===t?(this.Pd&&fe("null is not a valid "+this.name),0):(t.cd||fe('Cannot pass "'+Qe(t)+'" as a '+this.name),t.cd.ed||fe("Cannot pass deleted object as a pointer of type "+this.name),Te(t.cd.ed,t.cd.fd.dd,this.dd))}function je(e,t){if(null===t){if(this.Pd&&fe("null is not a valid "+this.name),this.Gd){var n=this.Qd();return null!==e&&e.push(this.pd,n),n}return 0}if(t.cd||fe('Cannot pass "'+Qe(t)+'" as a '+this.name),t.cd.ed||fe("Cannot pass deleted object as a pointer of type "+this.name),!this.Fd&&t.cd.fd.Fd&&fe("Cannot convert argument of type "+(t.cd.ld?t.cd.ld.name:t.cd.fd.name)+" to parameter type "+this.name),n=Te(t.cd.ed,t.cd.fd.dd,this.dd),this.Gd)switch(void 0===t.cd.jd&&fe("Passing raw pointer to smart pointer is illegal"),this.Ge){case 0:t.cd.ld===this?n=t.cd.jd:fe("Cannot convert argument of type "+(t.cd.ld?t.cd.ld.name:t.cd.fd.name)+" to parameter type "+this.name);break;case 1:n=t.cd.jd;break;case 2:if(t.cd.ld===this)n=t.cd.jd;else{var r=t.clone();n=this.Ce(n,He((function(){r.delete()}))),null!==e&&e.push(this.pd,n)}break;default:fe("Unsupporting sharing policy")}return n}function Ie(e,t){return null===t?(this.Pd&&fe("null is not a valid "+this.name),0):(t.cd||fe('Cannot pass "'+Qe(t)+'" as a '+this.name),t.cd.ed||fe("Cannot pass deleted object as a pointer of type "+this.name),t.cd.fd.Fd&&fe("Cannot convert argument of type "+t.cd.fd.name+" to parameter type "+this.name),Te(t.cd.ed,t.cd.fd.dd,this.dd))}function Fe(e,t,n,r){this.name=e,this.dd=t,this.Pd=n,this.Fd=r,this.Gd=!1,this.pd=this.Ce=this.Qd=this.be=this.Ge=this.Ae=void 0,void 0!==t.md?this.toWireType=je:(this.toWireType=r?_e:Ie,this.kd=null)}function Re(e,n,r){t.hasOwnProperty(e)||ie("Replacing nonexistant public symbol"),void 0!==t[e].gd&&void 0!==r?t[e].gd[r]=n:(t[e]=n,t[e].Ed=r)}function Le(e){return L.get(e)}function ke(e,n){var r=(e=se(e)).includes("j")?function(e,n){var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var i=t["dynCall_"+e];i=r&&r.length?i.apply(null,[n].concat(r)):i.call(null,n)}else i=Le(n).apply(null,r);return i}}(e,n):Le(n);return"function"!=typeof r&&fe("unknown function pointer with signature "+e+": "+n),r}var Oe=void 0;function We(e){var t=se(e=en(e));return $t(e),t}function De(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Z[t]||($[t]?$[t].forEach(e):(n.push(t),r[t]=!0))})),new Oe(e+": "+n.map(We).join([", "]))}function Be(e,t,n){return e instanceof Object||fe(n+' with invalid "this": '+e),e instanceof t.dd.constructor||fe(n+' incompatible with "this" of type '+e.constructor.name),e.cd.ed||fe("cannot call emscripten binding method "+n+" on deleted object"),Te(e.cd.ed,e.cd.fd.dd,t.dd)}function Ye(e,t){for(var n=[],r=0;r<e;r++)n.push(C[t+4*r>>2]);return n}function Ue(e,t,n,r,i){var a=t.length;2>a&&fe("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=null!==t[1]&&null!==n,u=!1;for(n=1;n<t.length;++n)if(null!==t[n]&&void 0===t[n].kd){u=!0;break}var s="void"!==t[0].name,c=a-2,f=Array(c),l=[],d=[];return function(){if(arguments.length!==c&&fe("function "+e+" called with "+arguments.length+" arguments, expected "+c+" args!"),d.length=0,l.length=o?2:1,l[0]=i,o){var n=t[1].toWireType(d,this);l[1]=n}for(var a=0;a<c;++a)f[a]=t[a+2].toWireType(d,arguments[a]),l.push(f[a]);if(a=r.apply(null,l),u)Q(d);else for(var h=o?1:2;h<t.length;h++){var p=1===h?n:f[h-2];null!==t[h].kd&&t[h].kd(p)}return n=s?t[0].fromWireType(a):void 0}}var Ve=[],Ge=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ne(e){4<e&&0==--Ge[e].Rd&&(Ge[e]=void 0,Ve.push(e))}var qe=e=>(e||fe("Cannot use deleted val. handle = "+e),Ge[e].value),He=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Ve.length?Ve.pop():Ge.length;return Ge[t]={Rd:1,value:e},t}};function Xe(e,t,n){switch(t){case 0:return function(e){return this.fromWireType((n?b:w)[e])};case 1:return function(e){return this.fromWireType((n?P:A)[e>>1])};case 2:return function(e){return this.fromWireType((n?x:C)[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function ze(e,t){var n=Z[e];return void 0===n&&fe(t+" has unknown type "+We(e)),n}function Qe(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Je(e,t){switch(t){case 2:return function(e){return this.fromWireType(S[e>>2])};case 3:return function(e){return this.fromWireType(E[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Ke(e,t,n){switch(t){case 0:return n?function(e){return b[e]}:function(e){return w[e]};case 1:return n?function(e){return P[e>>1]}:function(e){return A[e>>1]};case 2:return n?function(e){return x[e>>2]}:function(e){return C[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Ze="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function $e(e,t){for(var n=e>>1,r=n+t/2;!(n>=r)&&A[n];)++n;if(32<(n<<=1)-e&&Ze)return Ze.decode(w.subarray(e,n));for(n="",r=0;!(r>=t/2);++r){var i=P[e+2*r>>1];if(0==i)break;n+=String.fromCharCode(i)}return n}function et(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var i=0;i<n;++i)P[t>>1]=e.charCodeAt(i),t+=2;return P[t>>1]=0,t-r}function tt(e){return 2*e.length}function nt(e,t){for(var n=0,r="";!(n>=t/4);){var i=x[e+4*n>>2];if(0==i)break;++n,65536<=i?(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i)):r+=String.fromCharCode(i)}return r}function rt(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),x[t>>2]=a,(t+=4)+4>n)break}return x[t>>2]=0,t-r}function it(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t}var at={};function ot(e){var t=at[e];return void 0===t?se(e):t}var ut=[],st=[],ct=1,ft=[],lt=[],dt=[],ht=[],pt=[],mt=[],vt=[],yt=[],gt=[],bt=[],wt={},Pt={},At=4;function xt(e){St||(St=e)}function Ct(e){for(var t=ct++,n=e.length;n<t;n++)e[n]=null;return t}var St,Et,Mt=[];function Tt(e,t,n,r){for(var i=0;i<e;i++){var a=Xt[n](),o=a&&Ct(r);a?(a.name=o,r[o]=a):xt(1282),x[t+4*i>>2]=o}}function _t(e,t){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return;case 34814:case 36345:n=0;break;case 34466:var r=Xt.getParameter(34467);n=r?r.length:0;break;case 33309:if(2>Et.version)return void xt(1282);n=2*(Xt.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>Et.version)return void xt(1280);n=33307==e?3:0}if(void 0===n)switch(r=Xt.getParameter(e),typeof r){case"number":n=r;break;case"boolean":n=r?1:0;break;case"string":return void xt(1280);case"object":if(null===r)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:return void xt(1280)}else{if(r instanceof Float32Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Array){for(e=0;e<r.length;++e)x[t+4*e>>2]=r[e];return}try{n=0|r.name}catch(t){return xt(1280),void v("GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter("+e+")! (error: "+t+")")}}break;default:return xt(1280),void v("GL_INVALID_ENUM in glGet0v: Native code calling glGet0v("+e+") and it returns "+r+" of type "+typeof r+"!")}x[t>>2]=n}else xt(1281)}function jt(e){var t=F(e)+1,n=Zt(t);return I(e,w,n,t),n}function It(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")}function Ft(e){return 0==(e-=5120)?b:1==e?w:2==e?P:4==e?x:6==e?S:5==e||28922==e||28520==e||30779==e||30782==e?C:A}function Rt(e,t,n,r,i){e=Ft(e);var a=31-Math.clz32(e.BYTES_PER_ELEMENT),o=At;return e.subarray(i>>a,i+r*(n*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[t-6402]||1)*(1<<a)+o-1&-o)>>a)}function Lt(e){var t=Xt.le;if(t){var n=t.Ad[e];return"number"==typeof n&&(t.Ad[e]=n=Xt.getUniformLocation(t,t.ce[e]+(0<n?"["+n+"]":""))),n}xt(1282)}var kt=[],Ot=[],Wt={};function Dt(){if(!Bt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(e in Wt)void 0===Wt[e]?delete t[e]:t[e]=Wt[e];var n=[];for(e in t)n.push(e+"="+t[e]);Bt=n}return Bt}var Bt,Yt=[null,[],[]];function Ut(e){return 0==e%4&&(0!=e%100||0==e%400)}var Vt=[31,29,31,30,31,30,31,31,30,31,30,31],Gt=[31,28,31,30,31,30,31,31,30,31,30,31];function Nt(e,t,n,r){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function a(e,t){return i(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){var t=e.sd;for(e=new Date(new Date(e.td+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Ut(e.getFullYear())?Vt:Gt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),n=u(n),0>=o(t,e)?0>=o(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=x[r+40>>2];for(var f in r={Je:x[r>>2],Ie:x[r+4>>2],Kd:x[r+8>>2],Sd:x[r+12>>2],Ld:x[r+16>>2],td:x[r+20>>2],nd:x[r+24>>2],sd:x[r+28>>2],Qe:x[r+32>>2],He:x[r+36>>2],Ke:c?j(c):""},n=j(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(f,"g"),c[f]);var l="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(f in c={"%a":function(e){return l[e.nd].substring(0,3)},"%A":function(e){return l[e.nd]},"%b":function(e){return d[e.Ld].substring(0,3)},"%B":function(e){return d[e.Ld]},"%C":function(e){return a((e.td+1900)/100|0,2)},"%d":function(e){return a(e.Sd,2)},"%e":function(e){return i(e.Sd,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return a(e.Kd,2)},"%I":function(e){return 0==(e=e.Kd)?e=12:12<e&&(e-=12),a(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ld-1;t+=(Ut(e.td+1900)?Vt:Gt)[n++]);return a(e.Sd+t,3)},"%m":function(e){return a(e.Ld+1,2)},"%M":function(e){return a(e.Ie,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Kd&&12>e.Kd?"AM":"PM"},"%S":function(e){return a(e.Je,2)},"%t":function(){return"\t"},"%u":function(e){return e.nd||7},"%U":function(e){return a(Math.floor((e.sd+7-e.nd)/7),2)},"%V":function(e){var t=Math.floor((e.sd+7-(e.nd+6)%7)/7);if(2>=(e.nd+371-e.sd-2)%7&&t++,t)53==t&&(4==(n=(e.nd+371-e.sd)%7)||3==n&&Ut(e.td)||(t=1));else{t=52;var n=(e.nd+7-e.sd-1)%7;(4==n||5==n&&Ut(e.td%400-1))&&t++}return a(t,2)},"%w":function(e){return e.nd},"%W":function(e){return a(Math.floor((e.sd+7-(e.nd+6)%7)/7),2)},"%y":function(e){return(e.td+1900).toString().substring(2)},"%Y":function(e){return e.td+1900},"%z":function(e){var t=0<=(e=e.He);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ke},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),c)n.includes(f)&&(n=n.replace(new RegExp(f,"g"),c[f](r)));return f=function(e){var t=Array(F(e)+1);return I(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),f.length>t?0:(b.set(f,e),f.length-1)}re=t.InternalError=ne("InternalError");for(var qt=Array(256),Ht=0;256>Ht;++Ht)qt[Ht]=String.fromCharCode(Ht);ue=qt,ce=t.BindingError=ne("BindingError"),Ce.prototype.isAliasOf=function(e){if(!(this instanceof Ce&&e instanceof Ce))return!1;var t=this.cd.fd.dd,n=this.cd.ed,r=e.cd.fd.dd;for(e=e.cd.ed;t.md;)n=t.Bd(n),t=t.md;for(;r.md;)e=r.Bd(e),r=r.md;return t===r&&n===e},Ce.prototype.clone=function(){if(this.cd.ed||de(this),this.cd.zd)return this.cd.count.value+=1,this;var e=xe,t=Object,n=t.create,r=Object.getPrototypeOf(this),i=this.cd;return(e=e(n.call(t,r,{cd:{value:{count:i.count,xd:i.xd,zd:i.zd,ed:i.ed,fd:i.fd,jd:i.jd,ld:i.ld}}}))).cd.count.value+=1,e.cd.xd=!1,e},Ce.prototype.delete=function(){this.cd.ed||de(this),this.cd.xd&&!this.cd.zd&&fe("Object already scheduled for deletion"),pe(this),me(this.cd),this.cd.zd||(this.cd.jd=void 0,this.cd.ed=void 0)},Ce.prototype.isDeleted=function(){return!this.cd.ed},Ce.prototype.deleteLater=function(){return this.cd.ed||de(this),this.cd.xd&&!this.cd.zd&&fe("Object already scheduled for deletion"),ge.push(this),1===ge.length&&we&&we(be),this.cd.xd=!0,this},t.getInheritedInstanceCount=function(){return Object.keys(Pe).length},t.getLiveInheritedInstances=function(){var e,t=[];for(e in Pe)Pe.hasOwnProperty(e)&&t.push(Pe[e]);return t},t.flushPendingDeletes=be,t.setDelayFunction=function(e){we=e,ge.length&&we&&we(be)},Fe.prototype.te=function(e){return this.be&&(e=this.be(e)),e},Fe.prototype.Wd=function(e){this.pd&&this.pd(e)},Fe.prototype.argPackAdvance=8,Fe.prototype.readValueFromPointer=J,Fe.prototype.deleteObject=function(e){null!==e&&e.delete()},Fe.prototype.fromWireType=function(e){function t(){return this.Gd?Ae(this.dd.qd,{fd:this.Ae,ed:n,ld:this,jd:e}):Ae(this.dd.qd,{fd:this,ed:e})}var n=this.te(e);if(!n)return this.Wd(e),null;var r=function(e,t){for(void 0===t&&fe("ptr should not be undefined");e.md;)t=e.Bd(t),e=e.md;return Pe[t]}(this.dd,n);if(void 0!==r)return 0===r.cd.count.value?(r.cd.ed=n,r.cd.jd=e,r.clone()):(r=r.clone(),this.Wd(e),r);if(r=this.dd.se(n),!(r=ye[r]))return t.call(this);r=this.Fd?r.je:r.pointerType;var i=ve(n,this.dd,r.dd);return null===i?t.call(this):this.Gd?Ae(r.dd.qd,{fd:r,ed:i,ld:this,jd:e}):Ae(r.dd.qd,{fd:r,ed:i})},Oe=t.UnboundTypeError=ne("UnboundTypeError"),t.count_emval_handles=function(){for(var e=0,t=5;t<Ge.length;++t)void 0!==Ge[t]&&++e;return e},t.get_first_emval=function(){for(var e=5;e<Ge.length;++e)if(void 0!==Ge[e])return Ge[e];return null};for(var Xt,zt=0;32>zt;++zt)Mt.push(Array(zt));var Qt=new Float32Array(288);for(zt=0;288>zt;++zt)kt[zt]=Qt.subarray(0,zt+1);var Jt=new Int32Array(288);for(zt=0;288>zt;++zt)Ot[zt]=Jt.subarray(0,zt+1);var Kt={hc:function(e){var t=z[e];delete z[e];var n=t.Qd,r=t.pd,i=t.Zd;ae([e],i.map((e=>e.we)).concat(i.map((e=>e.Ee))),(e=>{var a={};return i.forEach(((t,n)=>{var r=e[n],o=t.ue,u=t.ve,s=e[n+i.length],c=t.De,f=t.Fe;a[t.qe]={read:e=>r.fromWireType(o(u,e)),write:(e,t)=>{var n=[];c(f,e,s.toWireType(n,t)),Q(n)}}})),[{name:t.name,fromWireType:function(e){var t,n={};for(t in a)n[t]=a[t].read(e);return r(e),n},toWireType:function(e,t){for(var i in a)if(!(i in t))throw new TypeError('Missing field:  "'+i+'"');var o=n();for(i in a)a[i].write(o,t[i]);return null!==e&&e.push(r,o),o},argPackAdvance:8,readValueFromPointer:J,kd:r}]}))},_a:function(){},ob:function(e,t,n,r,i){var a=oe(n);le(e,{name:t=se(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var r=b;else if(2===n)r=P;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=x}return this.fromWireType(r[e>>a])},kd:null})},g:function(e,t,n,r,i,a,o,u,s,c,f,l,d){f=se(f),a=ke(i,a),u&&(u=ke(o,u)),c&&(c=ke(s,c)),d=ke(l,d);var h=ee(f);Ee(h,(function(){De("Cannot construct "+f+" due to unbound types",[r])})),ae([e,t,n],r?[r]:[],(function(t){if(t=t[0],r)var n=t.dd,i=n.qd;else i=Ce.prototype;t=te(h,(function(){if(Object.getPrototypeOf(this)!==o)throw new ce("Use 'new' to construct "+f);if(void 0===s.rd)throw new ce(f+" has no accessible constructor");var e=s.rd[arguments.length];if(void 0===e)throw new ce("Tried to invoke ctor of "+f+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(s.rd).toString()+") parameters instead!");return e.apply(this,arguments)}));var o=Object.create(i,{constructor:{value:t}});t.prototype=o;var s=new Me(f,t,o,d,n,a,u,c);n=new Fe(f,s,!0,!1),i=new Fe(f+"*",s,!1,!1);var l=new Fe(f+" const*",s,!1,!0);return ye[e]={pointerType:i,je:l},Re(h,t),[n,i,l]}))},r:function(e,t,n,r,i,a,o,u){t=se(t),a=ke(i,a),ae([],[e],(function(e){var i=(e=e[0]).name+"."+t,s={get:function(){De("Cannot access "+i+" due to unbound types",[n])},enumerable:!0,configurable:!0};return s.set=u?()=>{De("Cannot access "+i+" due to unbound types",[n])}:()=>{fe(i+" is a read-only property")},Object.defineProperty(e.dd.constructor,t,s),ae([],[n],(function(n){n=n[0];var i={get:function(){return n.fromWireType(a(r))},enumerable:!0};return u&&(u=ke(o,u),i.set=e=>{var t=[];u(r,n.toWireType(t,e)),Q(t)}),Object.defineProperty(e.dd.constructor,t,i),[]})),[]}))},n:function(e,t,n,r,i,a){0<t||G();var o=Ye(t,n);i=ke(r,i),ae([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.dd.rd&&(e.dd.rd=[]),void 0!==e.dd.rd[t-1])throw new ce("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.dd.rd[t-1]=()=>{De("Cannot construct "+e.name+" due to unbound types",o)},ae([],o,(function(r){return r.splice(1,0,null),e.dd.rd[t-1]=Ue(n,r,null,i,a),[]})),[]}))},c:function(e,t,n,r,i,a,o,u){var s=Ye(n,r);t=se(t),a=ke(i,a),ae([],[e],(function(e){function r(){De("Cannot call "+i+" due to unbound types",s)}var i=(e=e[0]).name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),u&&e.dd.Be.push(t);var c=e.dd.qd,f=c[t];return void 0===f||void 0===f.gd&&f.className!==e.name&&f.Ed===n-2?(r.Ed=n-2,r.className=e.name,c[t]=r):(Se(c,t,i),c[t].gd[n-2]=r),ae([],s,(function(r){return r=Ue(i,r,e,a,o),void 0===c[t].gd?(r.Ed=n-2,c[t]=r):c[t].gd[n-2]=r,[]})),[]}))},f:function(e,t,n,r,i,a,o,u,s,c){t=se(t),i=ke(r,i),ae([],[e],(function(e){var r=(e=e[0]).name+"."+t,f={get:function(){De("Cannot access "+r+" due to unbound types",[n,o])},enumerable:!0,configurable:!0};return f.set=s?()=>{De("Cannot access "+r+" due to unbound types",[n,o])}:()=>{fe(r+" is a read-only property")},Object.defineProperty(e.dd.qd,t,f),ae([],s?[n,o]:[n],(function(n){var o=n[0],f={get:function(){var t=Be(this,e,r+" getter");return o.fromWireType(i(a,t))},enumerable:!0};if(s){s=ke(u,s);var l=n[1];f.set=function(t){var n=Be(this,e,r+" setter"),i=[];s(c,n,l.toWireType(i,t)),Q(i)}}return Object.defineProperty(e.dd.qd,t,f),[]})),[]}))},nb:function(e,t){le(e,{name:t=se(t),fromWireType:function(e){var t=qe(e);return Ne(e),t},toWireType:function(e,t){return He(t)},argPackAdvance:8,readValueFromPointer:J,kd:null})},w:function(e,t,n,r){function i(){}n=oe(n),t=se(t),i.values={},le(e,{name:t,constructor:i,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:Xe(t,n,r),kd:null}),Ee(t,i)},v:function(e,t,n){var r=ze(e,"enum");t=se(t),e=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:te(r.name+"_"+t,(function(){}))}}),e.values[n]=r,e[t]=r},z:function(e,t,n){n=oe(n),le(e,{name:t=se(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Je(t,n),kd:null})},q:function(e,t,n,r,i,a){var o=Ye(t,n);e=se(e),i=ke(r,i),Ee(e,(function(){De("Cannot call "+e+" due to unbound types",o)}),t-1),ae([],o,(function(n){return Re(e,Ue(e,[n[0],null].concat(n.slice(1)),null,i,a),t-1),[]}))},l:function(e,t,n,r,i){t=se(t),-1===i&&(i=4294967295),i=oe(n);var a=e=>e;if(0===r){var o=32-8*n;a=e=>e<<o>>>o}n=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},le(e,{name:t,fromWireType:a,toWireType:n,argPackAdvance:8,readValueFromPointer:Ke(t,i,0!==r),kd:null})},i:function(e,t,n){function r(e){var t=C;return new i(g,t[1+(e>>=2)],t[e])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];le(e,{name:n=se(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{xe:!0})},A:function(e,t){var n="std::string"===(t=se(t));le(e,{name:t,fromWireType:function(e){var t=C[e>>2],r=e+4;if(n)for(var i=r,a=0;a<=t;++a){var o=r+a;if(a==t||0==w[o]){if(i=j(i,o-i),void 0===u)var u=i;else u+=String.fromCharCode(0),u+=i;i=o+1}}else{for(u=Array(t),a=0;a<t;++a)u[a]=String.fromCharCode(w[r+a]);u=u.join("")}return $t(e),u},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"==typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||fe("Cannot pass non-string to std::string");var i=n&&r?F(t):t.length,a=Zt(4+i+1),o=a+4;if(C[a>>2]=i,n&&r)I(t,w,o,i+1);else if(r)for(r=0;r<i;++r){var u=t.charCodeAt(r);255<u&&($t(o),fe("String has UTF-16 code units that do not fit in 8 bits")),w[o+r]=u}else for(r=0;r<i;++r)w[o+r]=t[r];return null!==e&&e.push($t,a),a},argPackAdvance:8,readValueFromPointer:J,kd:function(e){$t(e)}})},u:function(e,t,n){if(n=se(n),2===t)var r=$e,i=et,a=tt,o=()=>A,u=1;else 4===t&&(r=nt,i=rt,a=it,o=()=>C,u=2);le(e,{name:n,fromWireType:function(e){for(var n,i=C[e>>2],a=o(),s=e+4,c=0;c<=i;++c){var f=e+4+c*t;c!=i&&0!=a[f>>u]||(s=r(s,f-s),void 0===n?n=s:(n+=String.fromCharCode(0),n+=s),s=f+t)}return $t(e),n},toWireType:function(e,r){"string"!=typeof r&&fe("Cannot pass non-string to C++ string type "+n);var o=a(r),s=Zt(4+o+t);return C[s>>2]=o>>u,i(r,s+4,o+t),null!==e&&e.push($t,s),s},argPackAdvance:8,readValueFromPointer:J,kd:function(e){$t(e)}})},Dc:function(e,t,n,r,i,a){z[e]={name:se(t),Qd:ke(n,r),pd:ke(i,a),Zd:[]}},sc:function(e,t,n,r,i,a,o,u,s,c){z[e].Zd.push({qe:se(t),we:n,ue:ke(r,i),ve:a,Ee:o,De:ke(u,s),Fe:c})},pb:function(e,t){le(e,{ze:!0,name:t=se(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},jb:function(){return!0},eb:function(){throw 1/0},Cb:function(e,t,n){e=qe(e),t=ze(t,"emval::as");var r=[],i=He(r);return C[n>>2]=i,t.toWireType(r,e)},db:function(e,t,n,r){(e=ut[e])(t=qe(t),n=ot(n),null,r)},Ec:Ne,$a:function(e,t){var n=function(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=ze(C[t+4*r>>2],"parameter "+r);return n}(e,t),r=n[0];t=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$";var i=st[t];if(void 0!==i)return i;var a=Array(e-1);return i=function(e){var t=ut.length;return ut.push(e),t}(((t,i,o,u)=>{for(var s=0,c=0;c<e-1;++c)a[c]=n[c+1].readValueFromPointer(u+s),s+=n[c+1].argPackAdvance;for(t=t[i].apply(t,a),c=0;c<e-1;++c)n[c+1].me&&n[c+1].me(a[c]);if(!r.ze)return r.toWireType(o,t)})),st[t]=i},Yb:function(e,t){return e=qe(e),t=qe(t),He(e[t])},Ya:function(e){4<e&&(Ge[e].Rd+=1)},Nb:function(e){return He(ot(e))},rb:function(e){Q(qe(e)),Ne(e)},lb:function(e,t){return e=(e=ze(e,"_emval_take_value")).readValueFromPointer(t),He(e)},a:function(){G("")},ib:()=>performance.now(),Sa:function(e){Xt.activeTexture(e)},Ra:function(e,t){Xt.attachShader(lt[e],mt[t])},Qa:function(e,t,n){Xt.bindAttribLocation(lt[e],t,j(n))},Pa:function(e,t){35051==e?Xt.Od=t:35052==e&&(Xt.wd=t),Xt.bindBuffer(e,ft[t])},Sb:function(e,t){Xt.bindFramebuffer(e,dt[t])},Rb:function(e,t){Xt.bindRenderbuffer(e,ht[t])},yb:function(e,t){Xt.bindSampler(e,gt[t])},Oa:function(e,t){Xt.bindTexture(e,pt[t])},kc:function(e){Xt.bindVertexArray(vt[e])},gc:function(e){Xt.bindVertexArray(vt[e])},Na:function(e,t,n,r){Xt.blendColor(e,t,n,r)},Ma:function(e){Xt.blendEquation(e)},La:function(e,t){Xt.blendFunc(e,t)},Eb:function(e,t,n,r,i,a,o,u,s,c){Xt.blitFramebuffer(e,t,n,r,i,a,o,u,s,c)},Ka:function(e,t,n,r){2<=Et.version?n&&t?Xt.bufferData(e,w,r,n,t):Xt.bufferData(e,t,r):Xt.bufferData(e,n?w.subarray(n,n+t):t,r)},Ja:function(e,t,n,r){2<=Et.version?n&&Xt.bufferSubData(e,t,w,r,n):Xt.bufferSubData(e,t,w.subarray(r,r+n))},Qb:function(e){return Xt.checkFramebufferStatus(e)},Ia:function(e){Xt.clear(e)},Ha:function(e,t,n,r){Xt.clearColor(e,t,n,r)},Ga:function(e){Xt.clearStencil(e)},Va:function(e,t,n,r){return Xt.clientWaitSync(bt[e],t,(n>>>0)+4294967296*r)},Fa:function(e,t,n,r){Xt.colorMask(!!e,!!t,!!n,!!r)},Ea:function(e){Xt.compileShader(mt[e])},Da:function(e,t,n,r,i,a,o,u){2<=Et.version?Xt.wd||!o?Xt.compressedTexImage2D(e,t,n,r,i,a,o,u):Xt.compressedTexImage2D(e,t,n,r,i,a,w,u,o):Xt.compressedTexImage2D(e,t,n,r,i,a,u?w.subarray(u,u+o):null)},Ca:function(e,t,n,r,i,a,o,u,s){2<=Et.version?Xt.wd||!u?Xt.compressedTexSubImage2D(e,t,n,r,i,a,o,u,s):Xt.compressedTexSubImage2D(e,t,n,r,i,a,o,w,s,u):Xt.compressedTexSubImage2D(e,t,n,r,i,a,o,s?w.subarray(s,s+u):null)},Ba:function(e,t,n,r,i,a,o,u){Xt.copyTexSubImage2D(e,t,n,r,i,a,o,u)},Aa:function(){var e=Ct(lt),t=Xt.createProgram();return t.name=e,t.Jd=t.Hd=t.Id=0,t.Td=1,lt[e]=t,e},za:function(e){var t=Ct(mt);return mt[t]=Xt.createShader(e),t},ya:function(e){Xt.cullFace(e)},xa:function(e,t){for(var n=0;n<e;n++){var r=x[t+4*n>>2],i=ft[r];i&&(Xt.deleteBuffer(i),i.name=0,ft[r]=null,r==Xt.Od&&(Xt.Od=0),r==Xt.wd&&(Xt.wd=0))}},Pb:function(e,t){for(var n=0;n<e;++n){var r=x[t+4*n>>2],i=dt[r];i&&(Xt.deleteFramebuffer(i),i.name=0,dt[r]=null)}},wa:function(e){if(e){var t=lt[e];t?(Xt.deleteProgram(t),t.name=0,lt[e]=null):xt(1281)}},Ob:function(e,t){for(var n=0;n<e;n++){var r=x[t+4*n>>2],i=ht[r];i&&(Xt.deleteRenderbuffer(i),i.name=0,ht[r]=null)}},xb:function(e,t){for(var n=0;n<e;n++){var r=x[t+4*n>>2],i=gt[r];i&&(Xt.deleteSampler(i),i.name=0,gt[r]=null)}},va:function(e){if(e){var t=mt[e];t?(Xt.deleteShader(t),mt[e]=null):xt(1281)}},Bb:function(e){if(e){var t=bt[e];t?(Xt.deleteSync(t),t.name=0,bt[e]=null):xt(1281)}},ua:function(e,t){for(var n=0;n<e;n++){var r=x[t+4*n>>2],i=pt[r];i&&(Xt.deleteTexture(i),i.name=0,pt[r]=null)}},jc:function(e,t){for(var n=0;n<e;n++){var r=x[t+4*n>>2];Xt.deleteVertexArray(vt[r]),vt[r]=null}},fc:function(e,t){for(var n=0;n<e;n++){var r=x[t+4*n>>2];Xt.deleteVertexArray(vt[r]),vt[r]=null}},ta:function(e){Xt.depthMask(!!e)},sa:function(e){Xt.disable(e)},ra:function(e){Xt.disableVertexAttribArray(e)},qa:function(e,t,n){Xt.drawArrays(e,t,n)},dc:function(e,t,n,r){Xt.drawArraysInstanced(e,t,n,r)},bc:function(e,t,n,r,i){Xt.Xd.drawArraysInstancedBaseInstanceWEBGL(e,t,n,r,i)},$b:function(e,t){for(var n=Mt[e],r=0;r<e;r++)n[r]=x[t+4*r>>2];Xt.drawBuffers(n)},pa:function(e,t,n,r){Xt.drawElements(e,t,n,r)},cc:function(e,t,n,r,i){Xt.drawElementsInstanced(e,t,n,r,i)},ac:function(e,t,n,r,i,a,o){Xt.Xd.drawElementsInstancedBaseVertexBaseInstanceWEBGL(e,t,n,r,i,a,o)},Wb:function(e,t,n,r,i,a){Xt.drawElements(e,r,i,a)},oa:function(e){Xt.enable(e)},na:function(e){Xt.enableVertexAttribArray(e)},Ab:function(e,t){return(e=Xt.fenceSync(e,t))?(t=Ct(bt),e.name=t,bt[t]=e,t):0},ma:function(){Xt.finish()},la:function(){Xt.flush()},Mb:function(e,t,n,r){Xt.framebufferRenderbuffer(e,t,n,ht[r])},Lb:function(e,t,n,r,i){Xt.framebufferTexture2D(e,t,n,pt[r],i)},ka:function(e){Xt.frontFace(e)},ja:function(e,t){Tt(e,t,"createBuffer",ft)},Kb:function(e,t){Tt(e,t,"createFramebuffer",dt)},Jb:function(e,t){Tt(e,t,"createRenderbuffer",ht)},wb:function(e,t){Tt(e,t,"createSampler",gt)},ia:function(e,t){Tt(e,t,"createTexture",pt)},ic:function(e,t){Tt(e,t,"createVertexArray",vt)},ec:function(e,t){Tt(e,t,"createVertexArray",vt)},Ib:function(e){Xt.generateMipmap(e)},ha:function(e,t,n){n?x[n>>2]=Xt.getBufferParameter(e,t):xt(1281)},ga:function(){var e=Xt.getError()||St;return St=0,e},Hb:function(e,t,n,r){((e=Xt.getFramebufferAttachmentParameter(e,t,n))instanceof WebGLRenderbuffer||e instanceof WebGLTexture)&&(e=0|e.name),x[r>>2]=e},Ta:function(e,t){_t(e,t)},fa:function(e,t,n,r){null===(e=Xt.getProgramInfoLog(lt[e]))&&(e="(unknown error)"),t=0<t&&r?I(e,w,r,t):0,n&&(x[n>>2]=t)},ea:function(e,t,n){if(n)if(e>=ct)xt(1281);else if(e=lt[e],35716==t)null===(e=Xt.getProgramInfoLog(e))&&(e="(unknown error)"),x[n>>2]=e.length+1;else if(35719==t){if(!e.Jd)for(t=0;t<Xt.getProgramParameter(e,35718);++t)e.Jd=Math.max(e.Jd,Xt.getActiveUniform(e,t).name.length+1);x[n>>2]=e.Jd}else if(35722==t){if(!e.Hd)for(t=0;t<Xt.getProgramParameter(e,35721);++t)e.Hd=Math.max(e.Hd,Xt.getActiveAttrib(e,t).name.length+1);x[n>>2]=e.Hd}else if(35381==t){if(!e.Id)for(t=0;t<Xt.getProgramParameter(e,35382);++t)e.Id=Math.max(e.Id,Xt.getActiveUniformBlockName(e,t).length+1);x[n>>2]=e.Id}else x[n>>2]=Xt.getProgramParameter(e,t);else xt(1281)},Gb:function(e,t,n){n?x[n>>2]=Xt.getRenderbufferParameter(e,t):xt(1281)},da:function(e,t,n,r){null===(e=Xt.getShaderInfoLog(mt[e]))&&(e="(unknown error)"),t=0<t&&r?I(e,w,r,t):0,n&&(x[n>>2]=t)},qb:function(e,t,n,r){e=Xt.getShaderPrecisionFormat(e,t),x[n>>2]=e.rangeMin,x[n+4>>2]=e.rangeMax,x[r>>2]=e.precision},ca:function(e,t,n){n?35716==t?(null===(e=Xt.getShaderInfoLog(mt[e]))&&(e="(unknown error)"),x[n>>2]=e?e.length+1:0):35720==t?(e=Xt.getShaderSource(mt[e]),x[n>>2]=e?e.length+1:0):x[n>>2]=Xt.getShaderParameter(mt[e],t):xt(1281)},s:function(e){var t=wt[e];if(!t){switch(e){case 7939:t=jt((t=(t=Xt.getSupportedExtensions()||[]).concat(t.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:(t=Xt.getParameter(e))||xt(1280),t=t&&jt(t);break;case 7938:t=Xt.getParameter(7938),t=jt(t=2<=Et.version?"OpenGL ES 3.0 ("+t+")":"OpenGL ES 2.0 ("+t+")");break;case 35724:var n=(t=Xt.getParameter(35724)).match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==n&&(3==n[1].length&&(n[1]+="0"),t="OpenGL ES GLSL ES "+n[1]+" ("+t+")"),t=jt(t);break;default:xt(1280)}wt[e]=t}return t},Ua:function(e,t){if(2>Et.version)return xt(1282),0;var n=Pt[e];return n?0>t||t>=n.length?(xt(1281),0):n[t]:7939===e?(n=(n=(n=Xt.getSupportedExtensions()||[]).concat(n.map((function(e){return"GL_"+e})))).map((function(e){return jt(e)})),n=Pt[e]=n,0>t||t>=n.length?(xt(1281),0):n[t]):(xt(1280),0)},ba:function(e,t){if(t=j(t),e=lt[e]){var n,r=e,i=r.Ad,a=r.de;if(!i)for(r.Ad=i={},r.ce={},n=0;n<Xt.getProgramParameter(r,35718);++n){var o=Xt.getActiveUniform(r,n),u=o.name;o=o.size;var s=It(u);s=0<s?u.slice(0,s):u;var c=r.Td;for(r.Td+=o,a[s]=[o,c],u=0;u<o;++u)i[c]=u,r.ce[c++]=s}if(r=e.Ad,i=0,a=t,0<(n=It(t))&&(i=parseInt(t.slice(n+1))>>>0,a=t.slice(0,n)),(a=e.de[a])&&i<a[0]&&(r[i+=a[1]]=r[i]||Xt.getUniformLocation(e,t)))return i}else xt(1281);return-1},tb:function(e,t,n){for(var r=Mt[t],i=0;i<t;i++)r[i]=x[n+4*i>>2];Xt.invalidateFramebuffer(e,r)},sb:function(e,t,n,r,i,a,o){for(var u=Mt[t],s=0;s<t;s++)u[s]=x[n+4*s>>2];Xt.invalidateSubFramebuffer(e,u,r,i,a,o)},zb:function(e){return Xt.isSync(bt[e])},aa:function(e){return(e=pt[e])?Xt.isTexture(e):0},$:function(e){Xt.lineWidth(e)},_:function(e){e=lt[e],Xt.linkProgram(e),e.Ad=0,e.de={}},Zb:function(e,t,n,r,i,a){Xt.$d.multiDrawArraysInstancedBaseInstanceWEBGL(e,x,t>>2,x,n>>2,x,r>>2,C,i>>2,a)},Xb:function(e,t,n,r,i,a,o,u){Xt.$d.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(e,x,t>>2,n,x,r>>2,x,i>>2,x,a>>2,C,o>>2,u)},Z:function(e,t){3317==e&&(At=t),Xt.pixelStorei(e,t)},_b:function(e){Xt.readBuffer(e)},Y:function(e,t,n,r,i,a,o){if(2<=Et.version)if(Xt.Od)Xt.readPixels(e,t,n,r,i,a,o);else{var u=Ft(a);Xt.readPixels(e,t,n,r,i,a,u,o>>31-Math.clz32(u.BYTES_PER_ELEMENT))}else(o=Rt(a,i,n,r,o))?Xt.readPixels(e,t,n,r,i,a,o):xt(1280)},Fb:function(e,t,n,r){Xt.renderbufferStorage(e,t,n,r)},Db:function(e,t,n,r,i){Xt.renderbufferStorageMultisample(e,t,n,r,i)},vb:function(e,t,n){Xt.samplerParameteri(gt[e],t,n)},ub:function(e,t,n){Xt.samplerParameteri(gt[e],t,x[n>>2])},X:function(e,t,n,r){Xt.scissor(e,t,n,r)},W:function(e,t,n,r){for(var i="",a=0;a<t;++a){var o=r?x[r+4*a>>2]:-1;i+=j(x[n+4*a>>2],0>o?void 0:o)}Xt.shaderSource(mt[e],i)},V:function(e,t,n){Xt.stencilFunc(e,t,n)},U:function(e,t,n,r){Xt.stencilFuncSeparate(e,t,n,r)},T:function(e){Xt.stencilMask(e)},S:function(e,t){Xt.stencilMaskSeparate(e,t)},R:function(e,t,n){Xt.stencilOp(e,t,n)},Q:function(e,t,n,r){Xt.stencilOpSeparate(e,t,n,r)},P:function(e,t,n,r,i,a,o,u,s){if(2<=Et.version)if(Xt.wd)Xt.texImage2D(e,t,n,r,i,a,o,u,s);else if(s){var c=Ft(u);Xt.texImage2D(e,t,n,r,i,a,o,u,c,s>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else Xt.texImage2D(e,t,n,r,i,a,o,u,null);else Xt.texImage2D(e,t,n,r,i,a,o,u,s?Rt(u,o,r,i,s):null)},O:function(e,t,n){Xt.texParameterf(e,t,n)},N:function(e,t,n){Xt.texParameterf(e,t,S[n>>2])},M:function(e,t,n){Xt.texParameteri(e,t,n)},L:function(e,t,n){Xt.texParameteri(e,t,x[n>>2])},Vb:function(e,t,n,r,i){Xt.texStorage2D(e,t,n,r,i)},K:function(e,t,n,r,i,a,o,u,s){if(2<=Et.version)if(Xt.wd)Xt.texSubImage2D(e,t,n,r,i,a,o,u,s);else if(s){var c=Ft(u);Xt.texSubImage2D(e,t,n,r,i,a,o,u,c,s>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else Xt.texSubImage2D(e,t,n,r,i,a,o,u,null);else c=null,s&&(c=Rt(u,o,i,a,s)),Xt.texSubImage2D(e,t,n,r,i,a,o,u,c)},J:function(e,t){Xt.uniform1f(Lt(e),t)},I:function(e,t,n){if(2<=Et.version)t&&Xt.uniform1fv(Lt(e),S,n>>2,t);else{if(288>=t)for(var r=kt[t-1],i=0;i<t;++i)r[i]=S[n+4*i>>2];else r=S.subarray(n>>2,n+4*t>>2);Xt.uniform1fv(Lt(e),r)}},H:function(e,t){Xt.uniform1i(Lt(e),t)},G:function(e,t,n){if(2<=Et.version)t&&Xt.uniform1iv(Lt(e),x,n>>2,t);else{if(288>=t)for(var r=Ot[t-1],i=0;i<t;++i)r[i]=x[n+4*i>>2];else r=x.subarray(n>>2,n+4*t>>2);Xt.uniform1iv(Lt(e),r)}},F:function(e,t,n){Xt.uniform2f(Lt(e),t,n)},E:function(e,t,n){if(2<=Et.version)t&&Xt.uniform2fv(Lt(e),S,n>>2,2*t);else{if(144>=t)for(var r=kt[2*t-1],i=0;i<2*t;i+=2)r[i]=S[n+4*i>>2],r[i+1]=S[n+(4*i+4)>>2];else r=S.subarray(n>>2,n+8*t>>2);Xt.uniform2fv(Lt(e),r)}},D:function(e,t,n){Xt.uniform2i(Lt(e),t,n)},C:function(e,t,n){if(2<=Et.version)t&&Xt.uniform2iv(Lt(e),x,n>>2,2*t);else{if(144>=t)for(var r=Ot[2*t-1],i=0;i<2*t;i+=2)r[i]=x[n+4*i>>2],r[i+1]=x[n+(4*i+4)>>2];else r=x.subarray(n>>2,n+8*t>>2);Xt.uniform2iv(Lt(e),r)}},B:function(e,t,n,r){Xt.uniform3f(Lt(e),t,n,r)},Cc:function(e,t,n){if(2<=Et.version)t&&Xt.uniform3fv(Lt(e),S,n>>2,3*t);else{if(96>=t)for(var r=kt[3*t-1],i=0;i<3*t;i+=3)r[i]=S[n+4*i>>2],r[i+1]=S[n+(4*i+4)>>2],r[i+2]=S[n+(4*i+8)>>2];else r=S.subarray(n>>2,n+12*t>>2);Xt.uniform3fv(Lt(e),r)}},Bc:function(e,t,n,r){Xt.uniform3i(Lt(e),t,n,r)},Ac:function(e,t,n){if(2<=Et.version)t&&Xt.uniform3iv(Lt(e),x,n>>2,3*t);else{if(96>=t)for(var r=Ot[3*t-1],i=0;i<3*t;i+=3)r[i]=x[n+4*i>>2],r[i+1]=x[n+(4*i+4)>>2],r[i+2]=x[n+(4*i+8)>>2];else r=x.subarray(n>>2,n+12*t>>2);Xt.uniform3iv(Lt(e),r)}},zc:function(e,t,n,r,i){Xt.uniform4f(Lt(e),t,n,r,i)},yc:function(e,t,n){if(2<=Et.version)t&&Xt.uniform4fv(Lt(e),S,n>>2,4*t);else{if(72>=t){var r=kt[4*t-1],i=S;n>>=2;for(var a=0;a<4*t;a+=4){var o=n+a;r[a]=i[o],r[a+1]=i[o+1],r[a+2]=i[o+2],r[a+3]=i[o+3]}}else r=S.subarray(n>>2,n+16*t>>2);Xt.uniform4fv(Lt(e),r)}},xc:function(e,t,n,r,i){Xt.uniform4i(Lt(e),t,n,r,i)},wc:function(e,t,n){if(2<=Et.version)t&&Xt.uniform4iv(Lt(e),x,n>>2,4*t);else{if(72>=t)for(var r=Ot[4*t-1],i=0;i<4*t;i+=4)r[i]=x[n+4*i>>2],r[i+1]=x[n+(4*i+4)>>2],r[i+2]=x[n+(4*i+8)>>2],r[i+3]=x[n+(4*i+12)>>2];else r=x.subarray(n>>2,n+16*t>>2);Xt.uniform4iv(Lt(e),r)}},vc:function(e,t,n,r){if(2<=Et.version)t&&Xt.uniformMatrix2fv(Lt(e),!!n,S,r>>2,4*t);else{if(72>=t)for(var i=kt[4*t-1],a=0;a<4*t;a+=4)i[a]=S[r+4*a>>2],i[a+1]=S[r+(4*a+4)>>2],i[a+2]=S[r+(4*a+8)>>2],i[a+3]=S[r+(4*a+12)>>2];else i=S.subarray(r>>2,r+16*t>>2);Xt.uniformMatrix2fv(Lt(e),!!n,i)}},uc:function(e,t,n,r){if(2<=Et.version)t&&Xt.uniformMatrix3fv(Lt(e),!!n,S,r>>2,9*t);else{if(32>=t)for(var i=kt[9*t-1],a=0;a<9*t;a+=9)i[a]=S[r+4*a>>2],i[a+1]=S[r+(4*a+4)>>2],i[a+2]=S[r+(4*a+8)>>2],i[a+3]=S[r+(4*a+12)>>2],i[a+4]=S[r+(4*a+16)>>2],i[a+5]=S[r+(4*a+20)>>2],i[a+6]=S[r+(4*a+24)>>2],i[a+7]=S[r+(4*a+28)>>2],i[a+8]=S[r+(4*a+32)>>2];else i=S.subarray(r>>2,r+36*t>>2);Xt.uniformMatrix3fv(Lt(e),!!n,i)}},tc:function(e,t,n,r){if(2<=Et.version)t&&Xt.uniformMatrix4fv(Lt(e),!!n,S,r>>2,16*t);else{if(18>=t){var i=kt[16*t-1],a=S;r>>=2;for(var o=0;o<16*t;o+=16){var u=r+o;i[o]=a[u],i[o+1]=a[u+1],i[o+2]=a[u+2],i[o+3]=a[u+3],i[o+4]=a[u+4],i[o+5]=a[u+5],i[o+6]=a[u+6],i[o+7]=a[u+7],i[o+8]=a[u+8],i[o+9]=a[u+9],i[o+10]=a[u+10],i[o+11]=a[u+11],i[o+12]=a[u+12],i[o+13]=a[u+13],i[o+14]=a[u+14],i[o+15]=a[u+15]}}else i=S.subarray(r>>2,r+64*t>>2);Xt.uniformMatrix4fv(Lt(e),!!n,i)}},rc:function(e){e=lt[e],Xt.useProgram(e),Xt.le=e},qc:function(e,t){Xt.vertexAttrib1f(e,t)},pc:function(e,t){Xt.vertexAttrib2f(e,S[t>>2],S[t+4>>2])},oc:function(e,t){Xt.vertexAttrib3f(e,S[t>>2],S[t+4>>2],S[t+8>>2])},nc:function(e,t){Xt.vertexAttrib4f(e,S[t>>2],S[t+4>>2],S[t+8>>2],S[t+12>>2])},Ub:function(e,t){Xt.vertexAttribDivisor(e,t)},Tb:function(e,t,n,r,i){Xt.vertexAttribIPointer(e,t,n,r,i)},mc:function(e,t,n,r,i,a){Xt.vertexAttribPointer(e,t,n,!!r,i,a)},lc:function(e,t,n,r){Xt.viewport(e,t,n,r)},Wa:function(e,t,n,r){Xt.waitSync(bt[e],t,(n>>>0)+4294967296*r)},t:function(e){var t=w.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r),i=i.min.call(i,2147483648,r+(65536-r%65536)%65536);e:{try{y.grow(i-g.byteLength+65535>>>16),R();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},gb:function(e,t){var n=0;return Dt().forEach((function(r,i){var a=t+n;for(i=C[e+4*i>>2]=a,a=0;a<r.length;++a)b[0|i++]=r.charCodeAt(a);b[0|i]=0,n+=r.length+1})),0},hb:function(e,t){var n=Dt();C[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),C[t>>2]=r,0},mb:function(){return 52},Za:function(){return 70},kb:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=C[t>>2],u=C[t+4>>2];t+=8;for(var s=0;s<u;s++){var c=w[o+s],f=Yt[e];0===c||10===c?((1===e?m:v)(_(f,0)),f.length=0):f.push(c)}i+=u}return C[r>>2]=i,0},Xa:function(e,t){Xt.bindFramebuffer(e,dt[t])},x:function(e,t){_t(e,t)},m:function(e,t){var n=rn();try{return Le(e)(t)}catch(e){if(an(n),e!==e+0)throw e;nn(1,0)}},h:function(e,t,n){var r=rn();try{return Le(e)(t,n)}catch(e){if(an(r),e!==e+0)throw e;nn(1,0)}},k:function(e,t,n,r){var i=rn();try{return Le(e)(t,n,r)}catch(e){if(an(i),e!==e+0)throw e;nn(1,0)}},p:function(e,t,n,r,i){var a=rn();try{return Le(e)(t,n,r,i)}catch(e){if(an(a),e!==e+0)throw e;nn(1,0)}},ab:function(e,t,n,r,i,a){var o=rn();try{return Le(e)(t,n,r,i,a)}catch(e){if(an(o),e!==e+0)throw e;nn(1,0)}},bb:function(e,t,n,r,i,a,o){var u=rn();try{return Le(e)(t,n,r,i,a,o)}catch(e){if(an(u),e!==e+0)throw e;nn(1,0)}},o:function(e){var t=rn();try{Le(e)()}catch(e){if(an(t),e!==e+0)throw e;nn(1,0)}},j:function(e,t){var n=rn();try{Le(e)(t)}catch(e){if(an(n),e!==e+0)throw e;nn(1,0)}},b:function(e,t,n){var r=rn();try{Le(e)(t,n)}catch(e){if(an(r),e!==e+0)throw e;nn(1,0)}},d:function(e,t,n,r){var i=rn();try{Le(e)(t,n,r)}catch(e){if(an(i),e!==e+0)throw e;nn(1,0)}},e:function(e,t,n,r,i){var a=rn();try{Le(e)(t,n,r,i)}catch(e){if(an(a),e!==e+0)throw e;nn(1,0)}},y:function(e,t,n,r,i,a,o){var u=rn();try{Le(e)(t,n,r,i,a,o)}catch(e){if(an(u),e!==e+0)throw e;nn(1,0)}},cb:function(e,t,n,r,i,a,o,u,s){var c=rn();try{Le(e)(t,n,r,i,a,o,u,s)}catch(e){if(an(c),e!==e+0)throw e;nn(1,0)}},fb:function(e,t,n,r){return Nt(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,y=t.asm.Fc,R(),L=t.asm.Lc,O.unshift(t.asm.Gc),Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),0==Y&&(null!==U&&(clearInterval(U),U=null),V&&(e=V,V=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!p&&(l||d)){if("function"==typeof fetch&&!B.startsWith("file://"))return fetch(B,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+B+"'";return e.arrayBuffer()})).catch((function(){return H()}));if(u)return new Promise((function(e,t){u(B,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return H()}))}().then((function(e){return WebAssembly.instantiate(e,a)})).then((function(e){return e})).then(e,(function(e){v("failed to asynchronously prepare wasm: "+e),G(e)}))}var a={a:Kt};if(Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y),t.instantiateWasm)try{return t.instantiateWasm(a,e)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}(p||"function"!=typeof WebAssembly.instantiateStreaming||N()||B.startsWith("file://")||"function"!=typeof fetch?r(n):fetch(B,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(n,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(i)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Gc).apply(null,arguments)};var Zt=t._malloc=function(){return(Zt=t._malloc=t.asm.Hc).apply(null,arguments)},$t=t._free=function(){return($t=t._free=t.asm.Ic).apply(null,arguments)},en=t.___getTypeName=function(){return(en=t.___getTypeName=t.asm.Jc).apply(null,arguments)};t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm.Kc).apply(null,arguments)};var tn,nn=t._setThrew=function(){return(nn=t._setThrew=t.asm.Mc).apply(null,arguments)},rn=t.stackSave=function(){return(rn=t.stackSave=t.asm.Nc).apply(null,arguments)},an=t.stackRestore=function(){return(an=t.stackRestore=t.asm.Oc).apply(null,arguments)};function on(){function e(){if(!tn&&(tn=!0,t.calledRun=!0,!M)){if(X(O),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}X(W)}}if(!(0<Y)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)D();X(k),0<Y||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.dynCall_iiiij=function(){return(t.dynCall_iiiij=t.asm.Pc).apply(null,arguments)},t.dynCall_viiij=function(){return(t.dynCall_viiij=t.asm.Qc).apply(null,arguments)},t.dynCall_iiij=function(){return(t.dynCall_iiij=t.asm.Rc).apply(null,arguments)},t.dynCall_viij=function(){return(t.dynCall_viij=t.asm.Sc).apply(null,arguments)},t.dynCall_viiiiij=function(){return(t.dynCall_viiiiij=t.asm.Tc).apply(null,arguments)},t.dynCall_jii=function(){return(t.dynCall_jii=t.asm.Uc).apply(null,arguments)},t.dynCall_viji=function(){return(t.dynCall_viji=t.asm.Vc).apply(null,arguments)},t.dynCall_ji=function(){return(t.dynCall_ji=t.asm.Wc).apply(null,arguments)},t.dynCall_iij=function(){return(t.dynCall_iij=t.asm.Xc).apply(null,arguments)},t.dynCall_vij=function(){return(t.dynCall_vij=t.asm.Yc).apply(null,arguments)},t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.Zc).apply(null,arguments)},t.dynCall_viijii=function(){return(t.dynCall_viijii=t.asm._c).apply(null,arguments)},t.dynCall_iiiiij=function(){return(t.dynCall_iiiiij=t.asm.$c).apply(null,arguments)},t.dynCall_iiiiijj=function(){return(t.dynCall_iiiiijj=t.asm.ad).apply(null,arguments)},t.dynCall_iiiiiijj=function(){return(t.dynCall_iiiiiijj=t.asm.bd).apply(null,arguments)},V=function e(){tn||on(),tn||(V=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return on(),e.ready});const a=i},e=>{e.exports=JSON.parse('{"name":"@rive-app/webgl","version":"1.0.88","description":"Rive\'s webgl based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.wasm","rive.js.map","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}')},(e,t,n)=>{n.r(t),n.d(t,{registerTouchInteractions:()=>r.registerTouchInteractions});var r=n(4)},(e,t,n)=>{n.r(t),n.d(t,{registerTouchInteractions:()=>r});const r=({canvas:e,artboard:t,stateMachines:n=[],renderer:r,rive:i,fit:a,alignment:o})=>{if(!(e&&n.length&&r&&i&&t))return null;const u=(e=>{const r=e.currentTarget.getBoundingClientRect(),u=e.clientX-r.left,s=e.clientY-r.top,c=i.computeAlignment(a,o,{minX:0,minY:0,maxX:r.width,maxY:r.height},t.bounds);let f=new i.Mat2D;c.invert(f);const l=new i.Vec2D(u,s),d=i.mapXY(f,l),h=d.x(),p=d.y();switch(e.type){case"mousemove":for(const e of n)e.pointerMove(h,p);break;case"mousedown":for(const e of n)e.pointerDown(h,p);break;case"mouseup":for(const e of n)e.pointerUp(h,p)}}).bind(void 0);return e.addEventListener("mousemove",u),e.addEventListener("mousedown",u),e.addEventListener("mouseup",u),()=>{e.removeEventListener("mousemove",u),e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",u)}}}],t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{Fit:()=>t,Alignment:()=>i,Layout:()=>l,RuntimeLoader:()=>d,StateMachineInputType:()=>f,StateMachineInput:()=>v,EventType:()=>p,LoopType:()=>m,Rive:()=>P,Testing:()=>C});var e,t,i,a=n(1),o=n(2),u=n(3),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};!function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Stop=2]="Stop"}(e||(e={})),function(e){e.Cover="cover",e.Contain="contain",e.Fill="fill",e.FitWidth="fitWidth",e.FitHeight="fitHeight",e.None="none",e.ScaleDown="scaleDown"}(t||(t={})),function(e){e.Center="center",e.TopLeft="topLeft",e.TopCenter="topCenter",e.TopRight="topRight",e.CenterLeft="centerLeft",e.CenterRight="centerRight",e.BottomLeft="bottomLeft",e.BottomCenter="bottomCenter",e.BottomRight="bottomRight"}(i||(i={}));var f,l=function(){function e(e){var n,r,a,o,u,s;this.fit=null!==(n=null==e?void 0:e.fit)&&void 0!==n?n:t.Contain,this.alignment=null!==(r=null==e?void 0:e.alignment)&&void 0!==r?r:i.Center,this.minX=null!==(a=null==e?void 0:e.minX)&&void 0!==a?a:0,this.minY=null!==(o=null==e?void 0:e.minY)&&void 0!==o?o:0,this.maxX=null!==(u=null==e?void 0:e.maxX)&&void 0!==u?u:0,this.maxY=null!==(s=null==e?void 0:e.maxY)&&void 0!==s?s:0}return e.new=function(t){var n=t.fit,r=t.alignment,i=t.minX,a=t.minY,o=t.maxX,u=t.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new e({fit:n,alignment:r,minX:i,minY:a,maxX:o,maxY:u})},e.prototype.copyWith=function(t){var n=t.fit,r=t.alignment,i=t.minX,a=t.minY,o=t.maxX,u=t.maxY;return new e({fit:null!=n?n:this.fit,alignment:null!=r?r:this.alignment,minX:null!=i?i:this.minX,minY:null!=a?a:this.minY,maxX:null!=o?o:this.maxX,maxY:null!=u?u:this.maxY})},e.prototype.runtimeFit=function(e){return this.cachedRuntimeFit?this.cachedRuntimeFit:(n=this.fit===t.Cover?e.Fit.cover:this.fit===t.Contain?e.Fit.contain:this.fit===t.Fill?e.Fit.fill:this.fit===t.FitWidth?e.Fit.fitWidth:this.fit===t.FitHeight?e.Fit.fitHeight:this.fit===t.ScaleDown?e.Fit.scaleDown:e.Fit.none,this.cachedRuntimeFit=n,n);var n},e.prototype.runtimeAlignment=function(e){return this.cachedRuntimeAlignment?this.cachedRuntimeAlignment:(t=this.alignment===i.TopLeft?e.Alignment.topLeft:this.alignment===i.TopCenter?e.Alignment.topCenter:this.alignment===i.TopRight?e.Alignment.topRight:this.alignment===i.CenterLeft?e.Alignment.centerLeft:this.alignment===i.CenterRight?e.Alignment.centerRight:this.alignment===i.BottomLeft?e.Alignment.bottomLeft:this.alignment===i.BottomCenter?e.Alignment.bottomCenter:this.alignment===i.BottomRight?e.Alignment.bottomRight:e.Alignment.center,this.cachedRuntimeAlignment=t,t);var t},e}(),d=function(){function e(){}return e.loadRuntime=function(){a.default({locateFile:function(t){return e.wasmURL}}).then((function(t){var n;for(e.runtime=t;e.callBackQueue.length>0;)null===(n=e.callBackQueue.shift())||void 0===n||n(e.runtime)}))},e.getInstance=function(t){e.isLoading||(e.isLoading=!0,e.loadRuntime()),e.runtime?t(e.runtime):e.callBackQueue.push(t)},e.awaitInstance=function(){return new Promise((function(t,n){return e.getInstance((function(e){return t(e)}))}))},e.setWasmUrl=function(t){e.wasmURL=t},e.isLoading=!1,e.callBackQueue=[],e.wasmURL="https://unpkg.com/"+o.name+"@"+o.version+"/rive.wasm",e}(),h=function(){function e(e,t,n,r){this.animation=e,this.artboard=t,this.playing=r,this.loopCount=0,this.scrubTo=null,this.instance=new n.LinearAnimationInstance(e,t)}return Object.defineProperty(e.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.instance.time},set:function(e){this.instance.time=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),e.prototype.advance=function(e){null===this.scrubTo?this.instance.advance(e):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},e.prototype.apply=function(e){this.instance.apply(e)},Object.defineProperty(e.prototype,"needsScrub",{get:function(){return null!==this.scrubTo},enumerable:!1,configurable:!0}),e.prototype.cleanup=function(){this.instance.delete()},e}();!function(e){e[e.Number=56]="Number",e[e.Trigger=58]="Trigger",e[e.Boolean=59]="Boolean"}(f||(f={}));var p,m,v=function(){function e(e,t){this.type=e,this.runtimeInput=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(e){this.runtimeInput.value=e},enumerable:!1,configurable:!0}),e.prototype.fire=function(){this.type===f.Trigger&&this.runtimeInput.fire()},e}(),y=function(){function e(e,t,n,r){this.stateMachine=e,this.playing=n,this.artboard=r,this.inputs=[],this.instance=new t.StateMachineInstance(e,r),this.initInputs(t)}return Object.defineProperty(e.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statesChanged",{get:function(){for(var e=[],t=0;t<this.instance.stateChangedCount();t++)e.push(this.instance.stateChangedNameByIndex(t));return e},enumerable:!1,configurable:!0}),e.prototype.advance=function(e){this.instance.advance(e)},e.prototype.initInputs=function(e){for(var t=0;t<this.instance.inputCount();t++){var n=this.instance.input(t);this.inputs.push(this.mapRuntimeInput(n,e))}},e.prototype.mapRuntimeInput=function(e,t){return e.type===t.SMIInput.bool?new v(f.Boolean,e.asBool()):e.type===t.SMIInput.number?new v(f.Number,e.asNumber()):e.type===t.SMIInput.trigger?new v(f.Trigger,e.asTrigger()):void 0},e.prototype.cleanup=function(){this.instance.delete()},e}(),g=function(){function e(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]),this.runtime=e,this.artboard=t,this.eventManager=n,this.animations=r,this.stateMachines=i}return e.prototype.add=function(e,t,n){if(void 0===n&&(n=!0),0===(e=x(e)).length)this.animations.forEach((function(e){return e.playing=t})),this.stateMachines.forEach((function(e){return e.playing=t}));else{var r=this.animations.map((function(e){return e.name})),i=this.stateMachines.map((function(e){return e.name}));for(var a in e){var o=r.indexOf(e[a]),u=i.indexOf(e[a]);if(o>=0||u>=0)o>=0?this.animations[o].playing=t:this.stateMachines[u].playing=t;else{var s=this.artboard.animationByName(e[a]);if(s){var c=new h(s,this.artboard,this.runtime,t);c.advance(0),c.apply(1),this.animations.push(c)}else{var f=this.artboard.stateMachineByName(e[a]);if(f){var l=new y(f,this.runtime,t,this.artboard);this.stateMachines.push(l)}}}}}return n&&(t?this.eventManager.fire({type:p.Play,data:this.playing}):this.eventManager.fire({type:p.Pause,data:this.paused})),t?this.playing:this.paused},e.prototype.play=function(e){return this.add(e,!0)},e.prototype.pause=function(e){return this.add(e,!1)},e.prototype.scrub=function(e,t){var n=this.animations.filter((function(t){return e.includes(t.name)}));return n.forEach((function(e){return e.scrubTo=t})),n.map((function(e){return e.name}))},Object.defineProperty(e.prototype,"playing",{get:function(){return this.animations.filter((function(e){return e.playing})).map((function(e){return e.name})).concat(this.stateMachines.filter((function(e){return e.playing})).map((function(e){return e.name})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.animations.filter((function(e){return!e.playing})).map((function(e){return e.name})).concat(this.stateMachines.filter((function(e){return!e.playing})).map((function(e){return e.name})))},enumerable:!1,configurable:!0}),e.prototype.stop=function(e){var t=this,n=[];if(0===(e=x(e)).length)n=this.animations.map((function(e){return e.name})).concat(this.stateMachines.map((function(e){return e.name}))),this.animations.forEach((function(e){return e.cleanup()})),this.stateMachines.forEach((function(e){return e.cleanup()})),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var r=this.animations.filter((function(t){return e.includes(t.name)}));r.forEach((function(e){e.cleanup(),t.animations.splice(t.animations.indexOf(e),1)}));var i=this.stateMachines.filter((function(t){return e.includes(t.name)}));i.forEach((function(e){e.cleanup(),t.stateMachines.splice(t.stateMachines.indexOf(e),1)})),n=r.map((function(e){return e.name})).concat(i.map((function(e){return e.name})))}return this.eventManager.fire({type:p.Stop,data:n}),n},Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.animations.reduce((function(e,t){return e||t.playing}),!1)||this.stateMachines.reduce((function(e,t){return e||t.playing}),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStopped",{get:function(){return 0===this.animations.length&&0===this.stateMachines.length},enumerable:!1,configurable:!0}),e.prototype.atLeastOne=function(e,t){var n;return void 0===t&&(t=!0),0===this.animations.length&&0===this.stateMachines.length&&(this.artboard.animationCount()>0?this.add([n=this.artboard.animationByIndex(0).name],e,t):this.artboard.stateMachineCount()>0&&this.add([n=this.artboard.stateMachineByIndex(0).name],e,t)),n},e.prototype.handleLooping=function(){for(var e=0,t=this.animations.filter((function(e){return e.playing}));e<t.length;e++){var n=t[e];0===n.loopValue&&n.loopCount?(n.loopCount=0,this.stop(n.name)):1===n.loopValue&&n.loopCount?(this.eventManager.fire({type:p.Loop,data:{animation:n.name,type:m.Loop}}),n.loopCount=0):2===n.loopValue&&n.loopCount>1&&(this.eventManager.fire({type:p.Loop,data:{animation:n.name,type:m.PingPong}}),n.loopCount=0)}},e.prototype.handleStateChanges=function(){for(var e=[],t=0,n=this.stateMachines.filter((function(e){return e.playing}));t<n.length;t++){var r=n[t];e.push.apply(e,r.statesChanged)}e.length>0&&this.eventManager.fire({type:p.StateChange,data:e})},e}();!function(e){e.Load="load",e.LoadError="loaderror",e.Play="play",e.Pause="pause",e.Stop="stop",e.Loop="loop",e.Draw="draw",e.StateChange="statechange"}(p||(p={})),function(e){e.OneShot="oneshot",e.Loop="loop",e.PingPong="pingpong"}(m||(m={}));var b=function(){function e(e){void 0===e&&(e=[]),this.listeners=e}return e.prototype.getListeners=function(e){return this.listeners.filter((function(t){return t.type===e}))},e.prototype.add=function(e){this.listeners.includes(e)||this.listeners.push(e)},e.prototype.remove=function(e){for(var t=0;t<this.listeners.length;t++){var n=this.listeners[t];if(n.type===e.type&&n.callback===e.callback){this.listeners.splice(t,1);break}}},e.prototype.removeAll=function(e){var t=this;e?this.listeners.filter((function(t){return t.type===e})).forEach((function(e){return t.remove(e)})):this.listeners.splice(0,this.listeners.length)},e.prototype.fire=function(e){this.getListeners(e.type).forEach((function(t){return t.callback(e)}))},e}(),w=function(){function e(e){this.eventManager=e,this.queue=[]}return e.prototype.add=function(e){this.queue.push(e)},e.prototype.process=function(){for(;this.queue.length>0;){var e=this.queue.shift();null==e||e.action(),(null==e?void 0:e.event)&&this.eventManager.fire(e.event)}},e}(),P=function(){function e(e){var t;this._updateLayout=!0,this.isRendererActive=!0,this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=e.canvas,this.src=e.src,this.buffer=e.buffer,this.layout=null!==(t=e.layout)&&void 0!==t?t:new l,this.eventManager=new b,e.onLoad&&this.on(p.Load,e.onLoad),e.onLoadError&&this.on(p.LoadError,e.onLoadError),e.onPlay&&this.on(p.Play,e.onPlay),e.onPause&&this.on(p.Pause,e.onPause),e.onStop&&this.on(p.Stop,e.onStop),e.onLoop&&this.on(p.Loop,e.onLoop),e.onStateChange&&this.on(p.StateChange,e.onStateChange),e.onload&&!e.onLoad&&this.on(p.Load,e.onload),e.onloaderror&&!e.onLoadError&&this.on(p.LoadError,e.onloaderror),e.onplay&&!e.onPlay&&this.on(p.Play,e.onplay),e.onpause&&!e.onPause&&this.on(p.Pause,e.onpause),e.onstop&&!e.onStop&&this.on(p.Stop,e.onstop),e.onloop&&!e.onLoop&&this.on(p.Loop,e.onloop),e.onstatechange&&!e.onStateChange&&this.on(p.StateChange,e.onstatechange),this.taskQueue=new w(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:e.autoplay,animations:e.animations,stateMachines:e.stateMachines,artboard:e.artboard,useOffscreenRenderer:e.useOffscreenRenderer})}return e.new=function(t){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new e(t)},e.prototype.init=function(t){var n=this,r=t.src,i=t.buffer,a=t.animations,o=t.stateMachines,s=t.artboard,c=t.autoplay,f=void 0!==c&&c,l=t.useOffscreenRenderer,h=void 0!==l&&l;if(this.src=r,this.buffer=i,!this.src&&!this.buffer)throw new Error(e.missingErrorMessage);var p=x(a),m=x(o);this.loaded=!1,this.readyForPlaying=!1,d.awaitInstance().then((function(e){n.runtime=e,n.renderer=n.runtime.makeRenderer(n.canvas,h),n.canvas.width||n.canvas.height||n.resizeDrawingSurfaceToCanvas(),n.initData(s,p,m,f).then((function(){var e=(n.animator.stateMachines||[]).filter((function(e){return e.playing})).map((function(e){return e.instance}));n.eventCleanup=(0,u.registerTouchInteractions)({canvas:n.canvas,artboard:n.artboard,stateMachines:e,renderer:n.renderer,rive:n.runtime,fit:n._layout.runtimeFit(n.runtime),alignment:n._layout.runtimeAlignment(n.runtime)})})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))},e.prototype.initData=function(e,t,n,r){var i;return s(this,void 0,void 0,(function(){var a,o,u;return c(this,(function(s){switch(s.label){case 0:return this.src?(a=this,[4,A(this.src)]):[3,2];case 1:a.buffer=s.sent(),s.label=2;case 2:return o=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return o.file=s.sent(),this.file?(this.initArtboard(e,t,n,r),this.loaded=!0,this.eventManager.fire({type:p.Load,data:null!==(i=this.src)&&void 0!==i?i:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(u="Problem loading file; may be corrupt!",console.warn(u),this.eventManager.fire({type:p.LoadError,data:u}),[2,Promise.reject(u)])}}))}))},e.prototype.initArtboard=function(e,t,n,r){var i,a=e?this.file.artboardByName(e):this.file.defaultArtboard();if(!a){var o="Invalid artboard name or no default artboard";return console.warn(o),void this.eventManager.fire({type:p.LoadError,data:o})}if(this.artboard=a,this.artboard.animationCount()<1){o="Artboard has no animations";throw this.eventManager.fire({type:p.LoadError,data:o}),o}this.animator=new g(this.runtime,this.artboard,this.eventManager),t.length>0||n.length>0?(i=t.concat(n),this.animator.add(i,r,!1)):i=[this.animator.atLeastOne(r,!1)],this.taskQueue.add({action:function(){},event:{type:r?p.Play:p.Pause,data:i}})},e.prototype.drawFrame=function(){this.startRendering()},e.prototype.draw=function(e,t){var n=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=e),this.renderSecondTimer+=e-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,null==t||t());var r=(e-this.lastRenderTime)/1e3;this.lastRenderTime=e;for(var i=0,a=this.animator.animations.filter((function(e){return e.playing||e.needsScrub})).sort((function(e,t){return e.needsScrub?-1:1}));i<a.length;i++){var o=a[i];o.advance(r),o.instance.didLoop&&(o.loopCount+=1),o.apply(1)}for(var u=0,s=this.animator.stateMachines.filter((function(e){return e.playing}));u<s.length;u++){s[u].advance(r)}this.artboard.advance(r);var c=this.renderer;c.clear(),c.save(),this.alignRenderer(),this.artboard.draw(c),c.restore(),c.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.frameCount++;var f=performance.now();for(this.frameTimes.push(f),this.durations.push(f-n);this.frameTimes[0]<=f-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():(this.animator.isPaused||this.animator.isStopped)&&(this.lastRenderTime=0)},e.prototype.alignRenderer=function(){var e=this,t=e.renderer,n=e.runtime,r=e._layout,i=e.artboard;t.align(r.runtimeFit(n),r.runtimeAlignment(n),{minX:r.minX,minY:r.minY,maxX:r.maxX,maxY:r.maxY},i.bounds)},Object.defineProperty(e.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameTime",{get:function(){return 0===this.durations.length?0:(this.durations.reduce((function(e,t){return e+t}),0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),e.prototype.cleanup=function(){this.stopRendering(),this.cleanupInstances(),this.renderer.delete(),this.file.delete()},e.prototype.cleanupInstances=function(){null!==this.eventCleanup&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},e.prototype.play=function(e,t){var n=this;e=x(e),this.readyForPlaying?(this.animator.play(e),this.startRendering()):this.taskQueue.add({action:function(){return n.play(e,t)}})},e.prototype.pause=function(e){var t=this;e=x(e),this.readyForPlaying?this.animator.pause(e):this.taskQueue.add({action:function(){return t.pause(e)}})},e.prototype.scrub=function(e,t){var n=this;e=x(e),this.readyForPlaying?(this.animator.scrub(e,t||0),this.drawFrame()):this.taskQueue.add({action:function(){return n.scrub(e,t)}})},e.prototype.stop=function(e){var t=this;e=x(e),this.readyForPlaying?this.animator.stop(e):this.taskQueue.add({action:function(){return t.stop(e)}})},e.prototype.reset=function(e){var t,n=null==e?void 0:e.artboard,r=x(null==e?void 0:e.animations),i=x(null==e?void 0:e.stateMachines),a=null!==(t=null==e?void 0:e.autoplay)&&void 0!==t&&t;this.cleanupInstances(),this.initArtboard(n,r,i,a),this.taskQueue.process()},e.prototype.load=function(e){this.stop(),this.init(e)},Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(e){this._layout=e,e.maxX&&e.maxY||this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),e.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},e.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var e=this.canvas.getBoundingClientRect(),t=e.width,n=e.height,r=window.devicePixelRatio||1;this.canvas.width=r*t,this.canvas.height=r*n,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(e.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var e=[],t=0;t<this.artboard.animationCount();t++)e.push(this.artboard.animationByIndex(t).name);return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var e=[],t=0;t<this.artboard.stateMachineCount();t++)e.push(this.artboard.stateMachineByIndex(t).name);return e},enumerable:!1,configurable:!0}),e.prototype.stateMachineInputs=function(e){if(this.loaded){var t=this.animator.stateMachines.find((function(t){return t.name===e}));return null==t?void 0:t.inputs}},Object.defineProperty(e.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(e){return e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(e){return e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(e){return!e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(e){return!e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t){this.eventManager.add({type:e,callback:t})},e.prototype.unsubscribe=function(e,t){this.eventManager.remove({type:e,callback:t})},e.prototype.unsubscribeAll=function(e){this.eventManager.removeAll(e)},e.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},e.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},e.prototype.enableFPSCounter=function(e){this.runtime.enableFPSCounter(e)},e.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(e.prototype,"contents",{get:function(){if(this.loaded){for(var e={artboards:[]},t=0;t<this.file.artboardCount();t++){for(var n=this.file.artboardByIndex(t),r={name:n.name,animations:[],stateMachines:[]},i=0;i<n.animationCount();i++){var a=n.animationByIndex(i);r.animations.push(a.name)}for(var o=0;o<n.stateMachineCount();o++){for(var u=n.stateMachineByIndex(o),s=u.name,c=new this.runtime.StateMachineInstance(u,n),f=[],l=0;l<c.inputCount();l++){var d=c.input(l);f.push({name:d.name,type:d.type})}r.stateMachines.push({name:s,inputs:f})}e.artboards.push(r)}return e}},enumerable:!1,configurable:!0}),e.missingErrorMessage="Rive source file or data buffer required",e}(),A=function(e){return s(void 0,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=new Request(e),[4,fetch(t)];case 1:return[4,n.sent().arrayBuffer()];case 2:return[2,n.sent()]}}))}))},x=function(e){return"string"==typeof e?[e]:e instanceof Array?e:[]},C={EventManager:b,TaskQueueManager:w}})(),r})()}));
//# sourceMappingURL=/sm/68b65ba9e661eeedba63e69b82250529f3b04212ff74af557c86af867b075475.map